<!DOCTYPE html>
<html lang="en">
    <head>
        {{> main}}
        <title>Retreat Dashboard</title>
    </head>
    <body>
        <div class="container">
            <h2 class="page-title">Retreat Dashboard: {{retreat.retreat_name}}</h2>

            <!-- Retreat Details -->
            <div class="retreat-details">
                <h3>Retreat Details</h3>
                <p><strong>Start Date:</strong> {{formatDate retreat.start_date}}</p>
                <p><strong>Length:</strong> {{retreat.length}} days</p>
            </div>

            <!-- Meal Options -->
            <div class="meal-options">
                <h3>Meal Options</h3>
                <ul>
                    {{#each meals}}
                        <li>
                           <strong>{{this.meal_name}}</strong> - {{this.meal_count}} guests
                        </li>
                    {{/each}}
                </ul>
            </div>

            <!-- Room Types -->
            <div class="room-types">
                <h3>Room Types</h3>
                <ul>
                    {{#each rooms}}
                        <li>
                            <strong>{{this.room_name}}</strong> - ${{this.price}} - Capacity: {{this.capacity}} guests - Total Inventory: {{this.inventory}}
                        </li>
                    {{/each}}
                </ul>
            </div>

            <!--Customers -->
            <div class="customers">
                <h3>Customers</h3>
                <table class="customers-table">
                    <thead>
                        <tr>
                            <th>Customer Name</th>
                            <th>Email</th>
                            <th>Number of Guests</th>
                            <th>Number of Rooms</th>
                            <th>Total Price</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each customers}}
                            <tr>
                                <td>{{this.customer_name}}</td>
                                <td>{{this.email}}</td>
                                <td>{{this.num_guests}}</td>
                                <td>{{this.num_rooms}}</td>
                                <td>${{this.total_price}}</td>
                            </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>

            <!-- Booked Rooms -->
            <div class="booked-rooms">
                <h3>Booked Rooms</h3>
                <table class="booked-rooms-table">
                    <thead>
                        <tr>
                            <th>Room Type</th>
                            <th>Customer Name</th>
                            <th>Capacity</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each bookedRooms}}
                            <tr>
                                <td>{{this.room_name}}</td>
                                <td>{{this.customer_name}}</td>
                                <td>{{this.capacity}}</td>
                            </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>

        </div>

        {{> footer}}
    </body>
</html>